<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.11.3/datatables.min.css"/>

	<title>Title</title>
     <style>
        table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
  background-color:yellow;
}
   .text1{
   font-size: 18pt; height: 50px; width:200px;

   }

</style>

</head>

<body>

<div align="right">
<div  name="deactivate">
    <input type="number" class="text1" name="id" id="id">
<button type="submit" style="font-size: 18pt; height: 55px; width:15%;background-color:blue;" id="deactivate">Deactivate</button>
</div></div><br>

<div align="right">
<div name="activate" >
    <input type="tel" class="text1" id="id1" name="id1">
<button type="submit" style="font-size: 18pt; height: 55px; width:15%;background-color:blue;" id="activate">Activate</button>
</div></div>

<div style="text-align:center;"> <h1> List of Customers</h1></div>
   
        <table style="width:50%; text-align:center;" id="user" name="user" >
            <thead>
            <tr>
                <th>ID</th>
                <th>Username</th>
                <th>DOB</th>
                <th>Email</th>
				<th>Aadhar Number</th>
				<th>Mobile Number</th>
				<th>Status (Activate:1, Deactivate:2)</th>


            </tr>
            </thead>
            <tbody>

            <tr>

                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>

            </tr>
            

            </tbody>
        </table>

    </div>
   
</body>
<script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.11.3/datatables.min.js"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>

<script>
$(document).ready(function(){ 


$("#deactivate").click(function(e){

let id=$('#id').val();

$.ajax({
			type:"POST",
			url:"http://localhost:9000/deactivate",
			data :{
			id :id
			},
			success: function(response){
			alert(response.message);
			location.reload();
			}
			});
})

$("#activate").click(function(e){

let id=$('#id1').val();

$.ajax({
			type:"POST",
			url:"http://localhost:9000/activate",
			data :{
			id :id
			},
			success: function(response){
			alert(response.message);
			location.reload();
			}
			});
})
});





$.ajax({
url:"http://localhost:9000/list",
type:"GET",
dataType:"json",
success:function(data){

  $('#user').dataTable({
  data:data,
  columns : [
  {'data' : 'id'},
  {'data' : 'username'},
  {'data' : 'dob'},
  {'data' : 'email'},
  {'data' : 'aadharNumber'},
  {'data' : 'mobileNumber'},
  {'data' : 'status'}
  
  ]
  });
}
});


</script>




</html>


